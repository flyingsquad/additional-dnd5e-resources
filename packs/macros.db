{"name":"Wild Magic Surge","type":"script","scope":"global","command":"if (actor === undefined) {\n  ChatMessage.create({content: \"No character selected.\"});\n  return;\n}\n\nChatMessage.create({content: \"Checking Wild Magic Surge for \" + actor.name});\n\nlet roll = new Roll(\"1d20\").evaluate({async: false});\n\nroll.toMessage({\n  rollMode: 'roll',\n  speaker: {alias: name}\n});\n\nif (roll.total > 1) {\n  ChatMessage.create({content: \"No Wild Magic Surge\"});\n} else {\n  ChatMessage.create({content: \"Wild Magic Surges!\"})\n  game.tables.get(\"X4w44QFMKyGMZM4F\").draw();\n}","img":"icons/magic/symbols/triangle-glowing-green.webp","author":"2YnGkU1l5ZNW8ikj","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.DTLYOAuLVuTt750T"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1670613523226,"modifiedTime":1689368697377,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"OeZhVDIXXzOFRH0h"}
{"name":"Cleanup","type":"script","author":"2YnGkU1l5ZNW8ikj","img":"icons/tools/hand/broom-straw-brown.webp","scope":"global","command":"//canvas.templates.deleteMany(canvas.templates.placeables.map(o =>o.id),{});\ncanvas.templates.deleteAll();","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"exportSource":{"world":"lupine-empire","system":"dnd5e","coreVersion":"10.291","systemVersion":"2.0.3"},"core":{"sourceId":"Macro.IDlZnfVMgioi1W3z"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1672423772582,"modifiedTime":1689368692371,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"ZB2Cx2riIWRoHQiX"}
{"name":"Dodge","type":"script","img":"modules/dfreds-convenient-effects/images/dodging.svg","command":"game.dfreds.effectInterface.toggleEffect(\"Dodge\")","author":"2YnGkU1l5ZNW8ikj","scope":"global","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"advanced-macros":{"runAsGM":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.ws6gbquyZ5VNqlsd"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1676076305229,"modifiedTime":1689368705697,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"a9bHKrdhks2doAcl"}
{"name":"Invisible","type":"script","img":"modules/dfreds-convenient-effects/images/invisible.svg","command":"game.dfreds.effectInterface.toggleEffect(\"Invisible\")","author":"2YnGkU1l5ZNW8ikj","scope":"global","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"advanced-macros":{"runAsGM":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.T7RVPu74hzGsAtQw"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1681351310280,"modifiedTime":1689368700478,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"cMaj5xPmOv7Xns54"}
{"name":"Charmed","type":"script","img":"modules/dfreds-convenient-effects/images/charmed.svg","command":"game.dfreds.effectInterface.toggleEffect(\"Charmed\")","author":"2YnGkU1l5ZNW8ikj","scope":"global","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.xoCzPGCHbkSwzGTe"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1670131449048,"modifiedTime":1689368695811,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"fd6kDdtFgXbocugr"}
{"name":"Long Rest (Selected)","type":"script","author":"2YnGkU1l5ZNW8ikj","img":"icons/sundries/survival/bedroll-blue-red.webp","scope":"global","command":"tokens = canvas.tokens.controlled;\nif (tokens.length > 0){\n\ttokens.forEach(Rest);\n} else {\n\tui.notifications.warn(\"No Tokens were selected\");\n}\n\nfunction Rest(token){\n  actor = token.actor;\n  //ui.notifications.warn(actor.name);\n  if (actor.data.type == \"character\") {\n    actor.longRest({dialog: false, chat: true, newDay: true});\n  }\n}","flags":{"core":{"sourceId":"Macro.vZur9OavG09EAqkt"},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1669593276089,"modifiedTime":1689368714961,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"folder":null,"sort":0,"_id":"jNiMXz8IXgFJYBWK"}
{"name":"Next Turn","type":"script","author":"2YnGkU1l5ZNW8ikj","img":"Tokens/icons/right-arrow.svg","scope":"global","command":"game.combats.active.nextTurn()","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"exportSource":{"world":"lupine-empire","system":"dnd5e","coreVersion":"10.291","systemVersion":"2.1.5"},"core":{"sourceId":"Macro.8yRfKu7Vz7ty1gKF"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1669578778829,"modifiedTime":1689368702844,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"mimpAX0RgMPWNgq4"}
{"name":"Number Tokens","type":"script","author":"2YnGkU1l5ZNW8ikj","img":"icons/commodities/treasure/puzzle-cube.webp","scope":"global","command":"tokens = canvas.tokens.controlled;\nszamlalo = 1;\nif (tokens.length > 0){\n\ttokens.forEach(UpdateName);\n} else {\n\tui.notifications.warn(\"No Tokens were selected\");\n}\n\nfunction UpdateName(token){\n  actor = token.actor;\n  ujnev = actor.name + \" \" + szamlalo;\n  updates = [{_id: token.id, name: ujnev}];\n  canvas.scene.updateEmbeddedDocuments(\"Token\",updates);\n  szamlalo = szamlalo + 1;\n}","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.66v7fQ7wczNOYBpP"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1669594502801,"modifiedTime":1689368690413,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"oGEb8KLheJ7GDkrf"}
{"name":"Frightened","type":"script","img":"modules/dfreds-convenient-effects/images/frightened.svg","command":"game.dfreds.effectInterface.toggleEffect(\"Frightened\")","author":"2YnGkU1l5ZNW8ikj","scope":"global","ownership":{"default":0,"2YnGkU1l5ZNW8ikj":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.lAsAX9sFvtohX7JQ"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.303","createdTime":1670131456724,"modifiedTime":1689368693805,"lastModifiedBy":"2YnGkU1l5ZNW8ikj"},"folder":null,"sort":0,"_id":"sJaPhMdG8BSP0YMF"}
